# מערכת ניהול משמרות - AI Shift Scheduler

מערכת חכמה וחדשנית לניהול סידור עבודה באמצעות בינה מלאכותית, בנויה עם הטכנולוגיות המתקדמות ביותר.

## ✨ תכונות עיקריות

### 🤖 סידור אוטומטי חכם
- **אלגוריתם AI מתקדם** - יוצר סידור אוטומטי תוך התחשבות בכל האילוצים והעדפות
- **העדפות עובדים** - מערכת תומכת בשלוש רמות זמינות: מועדף, זמין, לא זמין
- **בחירה אקראית** - כאשר יותר מעובד אחד מעדיף אותה משמרת, המערכת בוחרת באופן אקראי

### 👥 סוגי עובדים
המערכת תומכת בשלושה סוגי עובדים עם יכולות שונות:
- **אחמ"ש** - יכול לעבוד בכל סוגי המשמרות (אחמ"ש, בקרה, רגיל)
- **עובד בקרה** - יכול לעבוד במשמרות בקרה ומשמרות רגילות
- **עובד רגיל** - יכול לעבוד רק במשמרות רגילות

### ⚖️ אילוצים וכללים
- ✅ **הפרש מינימלי בין משמרות** - לפחות 8 שעות בין משמרות
- ✅ **מינימום משמרות חוזי** - המערכת דואגת שכל עובד יקבל את מספר המשמרות המינימלי לפי החוזה שלו
- ✅ **התאמה לסוג עובד** - רק עובדים מתאימים מוצבים במשמרות מסוימות

### 📊 תצוגה ויצוא
- **תצוגה דמוית Excel** - לוח שבועי ברור ונוח לקריאה
- **הדגשת עובדים** - כל עובד רואה את המשמרות שלו מודגשות בצבע אישי
- **ייצוא לאקסל** - ייצוא הסידור לקובץ Excel עם גיליון נפרד לכל עובד

## 🛠️ טכנולוגיות

### Frontend Framework
- **Next.js 14** - React framework מתקדם עם App Router
- **TypeScript** - בטיחות טיפוסים מלאה
- **Tailwind CSS** - עיצוב מודרני ורספונסיבי

### UI Components
- **shadcn/ui** - רכיבי UI מודרניים ונגישים
- **Lucide React** - אייקונים מעוצבים

### State Management
- **Zustand** - ניהול מצב קל משקל ויעיל
- **LocalStorage Persistence** - שמירת נתונים מקומית ללא צורך בשרת

### Data Processing
- **XLSX** - ייצוא ויבוא קבצי Excel
- **Constraint Solver** - אלגוריתם חכם לפתרון אילוצים

## 🚀 התחלת עבודה

### התקנה

```bash
# התקנת dependencies
npm install

# הרצת שרת פיתוח
npm run dev

# פתיחת הדפדפן
# לך לכתובת: http://localhost:3000
```

### שימוש במערכת

#### 1. הוספת עובדים
1. עבור ללשונית **"עובדים"**
2. לחץ על **"הוסף עובד"**
3. מלא את הפרטים:
   - שם העובד
   - סוג עובד (אחמ"ש / עובד בקרה / עובד רגיל)
   - מינימום משמרות לפי חוזה
4. לחץ **"הוסף"**

#### 2. הגדרת משמרות
1. עבור ללשונית **"משמרות"**
2. לחץ על **"הוסף משמרת"**
3. הגדר:
   - יום בשבוע
   - שעת התחלה וסיום
   - סוג משמרת
4. לחץ **"הוסף משמרת"**

#### 3. הגדרת זמינות
1. עבור ללשונית **"זמינות"**
2. עבור כל עובד, לחץ על התאים המתאימים כדי להגדיר:
   - **ירוק** - מועדף
   - **צהוב** - זמין
   - **אפור** - לא זמין

#### 4. יצירת סידור
1. עבור ללשונית **"סידור"**
2. לחץ על **"צור סידור אוטומטי"**
3. המערכת תיצור סידור אוטומטי המתחשב בכל האילוצים וההעדפות
4. ניתן להדגיש עובד ספציפי בתפריט הנפתח
5. לחץ **"ייצא לאקסל"** כדי לשמור את הסידור

## 📁 מבנה הפרוייקט

```
work-arrangement/
├── app/                    # Next.js App Router
│   ├── layout.tsx         # Layout ראשי
│   └── page.tsx           # דף הבית
├── components/            # קומפוננטות React
│   ├── ui/               # קומפוננטות UI בסיסיות
│   ├── EmployeeManager.tsx
│   ├── ShiftSlotManager.tsx
│   ├── AvailabilityManager.tsx
│   └── ScheduleView.tsx
├── lib/
│   ├── types/            # הגדרות TypeScript
│   ├── stores/           # Zustand stores
│   └── utils/            # פונקציות עזר
│       ├── scheduler.ts  # אלגוריתם AI
│       ├── excel.ts      # ייצוא/יבוא Excel
│       └── cn.ts         # כלי עזר CSS
└── package.json
```

## 🎯 אלגוריתם AI

האלגוריתם פועל בשלבים הבאים:

1. **מיון משמרות** - ממיין לפי יום ושעה
2. **סינון עובדים זמינים** - בודק התאמה לסוג משמרת, זמינות והפרש 8 שעות
3. **העדפות** - נותן עדיפות לעובדים שסימנו "מועדף"
4. **בחירה אקראית** - כאשר יש מספר מועמדים מתאימים, בוחר אקראית
5. **השלמת חוזים** - דואג שכל עובד יקבל את מינימום המשמרות

## 💰 עלות פיתוח: $0

- ✅ כל הכלים חינמיים וקוד פתוח
- ✅ אין צורך בשרת או בסיס נתונים
- ✅ אחסון מקומי בדפדפן
- ✅ ללא עלויות חודשיות

## 🔄 פיתוח עתידי

רעיונות להרחבה:
- [ ] שמירה בענן (Firebase / Supabase)
- [ ] הרשאות משתמשים
- [ ] התראות למשמרות
- [ ] תמיכה במספר שבועות/חודשים
- [ ] דו"חות וסטטיסטיקות
- [ ] אפליקציית מובייל

## 📄 רישיון

MIT License - השתמש בחופשיות!

## 🤝 תרומה

Pull requests מתקבלים בברכה!

---

**נבנה עם ❤️ באמצעות Claude Code**
